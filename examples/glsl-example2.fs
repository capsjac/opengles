#ifdef GL_ES
precision mediump float;
#endif

uniform float iGlobalTime;
uniform vec2 iResolution;
uniform float time;
uniform vec2 mouse;
uniform vec2 resolution;
uniform sampler2D backbuffer;

float nsin(float x) {
  return (sin(x) + 1.0) / 2.0;
}

void main() {
  vec2 p = gl_FragCoord.xy / resolution.xy;
  vec2 p3 = gl_FragCoord.xy / resolution.xy;
  vec2 p2 = vec2((p.x - 0.5)*2.0, (p.y - 0.5)*2.0);
  p2.x = sqrt(p2.x * p2.x + p2.y * p2.y);
  p2.y = nsin(atan(p2.y, p2.x)/2.0+0.5 + time/10.0);
  //p = p2;
  float dx = 0.0;
  float dy = 0.0;
  float dist = 0.0;
  float x = p.x;
  float y = p.y;
  float sz = 0.4*nsin(time)+0.0;
  float r = 0.0;
  float g = 0.0;
  float b = 0.0;
  float rn = 1.0;
  float gn = 1.0;
  float bn = 1.0;
  
  vec3 rgb = vec3(0.0);
  float color = 0.0;
  
		color += sin( p3.x * cos( time / 15.0 ) * 80.0 ) + cos( p3.y * cos( time / 15.0 ) * 10.0 );
		color += sin( p3.y * sin( time / 10.0 ) * 40.0 ) + cos( p3.x * sin( time / 25.0 ) * 40.0 );
		color += sin( p3.x * sin( time / 5.0 ) * 10.0 ) + sin( p3.y * sin( time / 35.0 ) * 80.0 );
		color *= sin( time / 10.0 ) * 0.5;
  /*if (x > 0.8930757180787623 - sz * 0.5 &&
    x < 0.8930757180787623 + sz * 0.5 &&
    y > 0.25677843228913844 - sz * 0.5 &&
    y < 0.25677843228913844 + sz * 0.5) {*/
  dx = x - 0.8930757180787623;
  dy = y - 0.25677843228913844;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.8798604598268867 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.673236099537462 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.2325253887102008 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.6322302673943341 - sz * 0.5 &&
    x < 0.6322302673943341 + sz * 0.5 &&
    y > 0.7538103780243546 - sz * 0.5 &&
    y < 0.7538103780243546 + sz * 0.5) {*/
  dx = x - 0.6322302673943341;
  dy = y - 0.7538103780243546;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.20900999871082604 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.06409295881167054 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.11846319260075688 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.7461360958404839 - sz * 0.5 &&
    x < 0.7461360958404839 + sz * 0.5 &&
    y > 0.20443140342831612 - sz * 0.5 &&
    y < 0.20443140342831612 + sz * 0.5) {*/
  dx = x - 0.7461360958404839;
  dy = y - 0.20443140342831612;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.029523170785978436 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.3419289104640484 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.8931128156837076 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.7176064227242023 - sz * 0.5 &&
    x < 0.7176064227242023 + sz * 0.5 &&
    y > 0.9177543697878718 - sz * 0.5 &&
    y < 0.9177543697878718 + sz * 0.5) {*/
  dx = x - 0.7176064227242023;
  dy = y - 0.9177543697878718;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.11279919999651611 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.10449857288040221 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.4172017280943692 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.31925053731538355 - sz * 0.5 &&
    x < 0.31925053731538355 + sz * 0.5 &&
    y > 0.7379884216934443 - sz * 0.5 &&
    y < 0.7379884216934443 + sz * 0.5) {*/
  dx = x - 0.31925053731538355;
  dy = y - 0.7379884216934443;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.3573877683375031 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.363687323872 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.5873468692880124 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.8880411488935351 - sz * 0.5 &&
    x < 0.8880411488935351 + sz * 0.5 &&
    y > 0.2062624527607113 - sz * 0.5 &&
    y < 0.2062624527607113 + sz * 0.5) {*/
  dx = x - 0.8880411488935351;
  dy = y - 0.2062624527607113;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.19915988924913108 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.24463349906727672 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.15953918220475316 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.41384212649427354 - sz * 0.5 &&
    x < 0.41384212649427354 + sz * 0.5 &&
    y > 0.25337994284927845 - sz * 0.5 &&
    y < 0.25337994284927845 + sz * 0.5) {*/
  dx = x - 0.41384212649427354;
  dy = y - 0.25337994284927845;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.26104211318306625 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.9376592491753399 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.7985127742867917 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.5183232249692082 - sz * 0.5 &&
    x < 0.5183232249692082 + sz * 0.5 &&
    y > 0.2586502223275602 - sz * 0.5 &&
    y < 0.2586502223275602 + sz * 0.5) {*/
  dx = x - 0.5183232249692082;
  dy = y - 0.2586502223275602;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.6828951255884022 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.6992148463614285 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.7357999300584197 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.9191473196260631 - sz * 0.5 &&
    x < 0.9191473196260631 + sz * 0.5 &&
    y > 0.6049529504962265 - sz * 0.5 &&
    y < 0.6049529504962265 + sz * 0.5) {*/
  dx = x - 0.9191473196260631;
  dy = y - 0.6049529504962265;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.9416924631223083 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.5108856041915715 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.5639715970028192 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.5652052708901465 - sz * 0.5 &&
    x < 0.5652052708901465 + sz * 0.5 &&
    y > 0.12498034397140145 - sz * 0.5 &&
    y < 0.12498034397140145 + sz * 0.5) {*/
  dx = x - 0.5652052708901465;
  dy = y - 0.12498034397140145;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.4682494879234582 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.5341443754732609 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.3595141600817442 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.519486891804263 - sz * 0.5 &&
    x < 0.519486891804263 + sz * 0.5 &&
    y > 0.6041005998849869 - sz * 0.5 &&
    y < 0.6041005998849869 + sz * 0.5) {*/
  dx = x - 0.519486891804263;
  dy = y - 0.6041005998849869;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.9672059286385775 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.6058781903702766 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.2495688167400658 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.3923120559193194 - sz * 0.5 &&
    x < 0.3923120559193194 + sz * 0.5 &&
    y > 0.6160875812638551 - sz * 0.5 &&
    y < 0.6160875812638551 + sz * 0.5) {*/
  dx = x - 0.3923120559193194;
  dy = y - 0.6160875812638551;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.26314829010516405 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.5056999577209353 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.574663425097242 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.41344294091686606 - sz * 0.5 &&
    x < 0.41344294091686606 + sz * 0.5 &&
    y > 0.8711003549396992 - sz * 0.5 &&
    y < 0.8711003549396992 + sz * 0.5) {*/
  dx = x - 0.41344294091686606;
  dy = y - 0.8711003549396992;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.09256372251547873 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.5126179519575089 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.8343199526425451 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.8321153684519231 - sz * 0.5 &&
    x < 0.8321153684519231 + sz * 0.5 &&
    y > 0.2001386429183185 - sz * 0.5 &&
    y < 0.2001386429183185 + sz * 0.5) {*/
  dx = x - 0.8321153684519231;
  dy = y - 0.2001386429183185;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.0661185379140079 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.39948334731161594 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.6268974258564413 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.22003685287199914 - sz * 0.5 &&
    x < 0.22003685287199914 + sz * 0.5 &&
    y > 0.6402714536525309 - sz * 0.5 &&
    y < 0.6402714536525309 + sz * 0.5) {*/
  dx = x - 0.22003685287199914;
  dy = y - 0.6402714536525309;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.03847291157580912 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.17503359401598573 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.3991546374745667 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.11182033852674067 - sz * 0.5 &&
    x < 0.11182033852674067 + sz * 0.5 &&
    y > 0.4070380658376962 - sz * 0.5 &&
    y < 0.4070380658376962 + sz * 0.5) {*/
  dx = x - 0.11182033852674067;
  dy = y - 0.4070380658376962;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.41663851286284626 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.1509009269066155 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.40524473204277456 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.5008829482831061 - sz * 0.5 &&
    x < 0.5008829482831061 + sz * 0.5 &&
    y > 0.6457443938124925 - sz * 0.5 &&
    y < 0.6457443938124925 + sz * 0.5) {*/
  dx = x - 0.5008829482831061;
  dy = y - 0.6457443938124925;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.9126307438127697 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.5334766539745033 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.21516722813248634 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.5976249312516302 - sz * 0.5 &&
    x < 0.5976249312516302 + sz * 0.5 &&
    y > 0.3229686161503196 - sz * 0.5 &&
    y < 0.3229686161503196 + sz * 0.5) {*/
  dx = x - 0.5976249312516302;
  dy = y - 0.3229686161503196;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.5379257574677467 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.5623148989398032 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.08777410420589149 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.44725196226499975 - sz * 0.5 &&
    x < 0.44725196226499975 + sz * 0.5 &&
    y > 0.7172109331004322 - sz * 0.5 &&
    y < 0.7172109331004322 + sz * 0.5) {*/
  dx = x - 0.44725196226499975;
  dy = y - 0.7172109331004322;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.7154993345029652 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.2437382284551859 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.8528906358405948 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.986112599959597 - sz * 0.5 &&
    x < 0.986112599959597 + sz * 0.5 &&
    y > 0.09320366918109357 - sz * 0.5 &&
    y < 0.09320366918109357 + sz * 0.5) {*/
  dx = x - 0.986112599959597;
  dy = y - 0.09320366918109357;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.3746272886637598 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.4349346859380603 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.42072188458405435 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.9778300656471401 - sz * 0.5 &&
    x < 0.9778300656471401 + sz * 0.5 &&
    y > 0.04974188935011625 - sz * 0.5 &&
    y < 0.04974188935011625 + sz * 0.5) {*/
  dx = x - 0.9778300656471401;
  dy = y - 0.04974188935011625;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.505631729029119 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.5001745524350554 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.7080498102586716 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.6490077241323888 - sz * 0.5 &&
    x < 0.6490077241323888 + sz * 0.5 &&
    y > 0.3440758604556322 - sz * 0.5 &&
    y < 0.3440758604556322 + sz * 0.5) {*/
  dx = x - 0.6490077241323888;
  dy = y - 0.3440758604556322;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.4749474616255611 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.9291978341061622 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.11092182691209018 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.4247390280943364 - sz * 0.5 &&
    x < 0.4247390280943364 + sz * 0.5 &&
    y > 0.228309080703184 - sz * 0.5 &&
    y < 0.228309080703184 + sz * 0.5) {*/
  dx = x - 0.4247390280943364;
  dy = y - 0.228309080703184;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.07052809628657997 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.9590450196992606 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.37761037587188184 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.47336420486681163 - sz * 0.5 &&
    x < 0.47336420486681163 + sz * 0.5 &&
    y > 0.8226373814977705 - sz * 0.5 &&
    y < 0.8226373814977705 + sz * 0.5) {*/
  dx = x - 0.47336420486681163;
  dy = y - 0.8226373814977705;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.1164502720348537 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.7695934686344117 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.792293056845665 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.4740139660425484 - sz * 0.5 &&
    x < 0.4740139660425484 + sz * 0.5 &&
    y > 0.4918125127442181 - sz * 0.5 &&
    y < 0.4918125127442181 + sz * 0.5) {*/
  dx = x - 0.4740139660425484;
  dy = y - 0.4918125127442181;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.15516536752693355 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.16911778948269784 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.24802883132360876 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.7948161300737411 - sz * 0.5 &&
    x < 0.7948161300737411 + sz * 0.5 &&
    y > 0.9144238356966525 - sz * 0.5 &&
    y < 0.9144238356966525 + sz * 0.5) {*/
  dx = x - 0.7948161300737411;
  dy = y - 0.9144238356966525;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.349241039250046 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.675095688784495 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.10108199110254645 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.7477322360500693 - sz * 0.5 &&
    x < 0.7477322360500693 + sz * 0.5 &&
    y > 0.4310107233468443 - sz * 0.5 &&
    y < 0.4310107233468443 + sz * 0.5) {*/
  dx = x - 0.7477322360500693;
  dy = y - 0.4310107233468443;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.9159545742440969 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.006873682839795947 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.7261350597254932 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.6565556810237467 - sz * 0.5 &&
    x < 0.6565556810237467 + sz * 0.5 &&
    y > 0.3196941213682294 - sz * 0.5 &&
    y < 0.3196941213682294 + sz * 0.5) {*/
  dx = x - 0.6565556810237467;
  dy = y - 0.3196941213682294;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.8131527290679514 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.545585008803755 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.573566785082221 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.8989164347294718 - sz * 0.5 &&
    x < 0.8989164347294718 + sz * 0.5 &&
    y > 0.9549144331831485 - sz * 0.5 &&
    y < 0.9549144331831485 + sz * 0.5) {*/
  dx = x - 0.8989164347294718;
  dy = y - 0.9549144331831485;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.34299514815211296 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.638803991721943 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.777400873368606 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.9415414207614958 - sz * 0.5 &&
    x < 0.9415414207614958 + sz * 0.5 &&
    y > 0.5601671163458377 - sz * 0.5 &&
    y < 0.5601671163458377 + sz * 0.5) {*/
  dx = x - 0.9415414207614958;
  dy = y - 0.5601671163458377;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.6982073527760804 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.28825005958788097 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.17725314386188984 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.993652326753363 - sz * 0.5 &&
    x < 0.993652326753363 + sz * 0.5 &&
    y > 0.773160244571045 - sz * 0.5 &&
    y < 0.773160244571045 + sz * 0.5) {*/
  dx = x - 0.993652326753363;
  dy = y - 0.773160244571045;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.651802248088643 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.4621738085988909 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.477405350189656 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.3957150806672871 - sz * 0.5 &&
    x < 0.3957150806672871 + sz * 0.5 &&
    y > 0.7643877752125263 - sz * 0.5 &&
    y < 0.7643877752125263 + sz * 0.5) {*/
  dx = x - 0.3957150806672871;
  dy = y - 0.7643877752125263;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.9606738740112633 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.22502652555704117 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.08322048396803439 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.988369925878942 - sz * 0.5 &&
    x < 0.988369925878942 + sz * 0.5 &&
    y > 0.2659334521740675 - sz * 0.5 &&
    y < 0.2659334521740675 + sz * 0.5) {*/
  dx = x - 0.988369925878942;
  dy = y - 0.2659334521740675;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.43874149746261537 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.2630470742005855 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.7667326035443693 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.6423283028416336 - sz * 0.5 &&
    x < 0.6423283028416336 + sz * 0.5 &&
    y > 0.2649862226098776 - sz * 0.5 &&
    y < 0.2649862226098776 + sz * 0.5) {*/
  dx = x - 0.6423283028416336;
  dy = y - 0.2649862226098776;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.24437795369885862 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.3830345328897238 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.10448734671808779 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.5708755818195641 - sz * 0.5 &&
    x < 0.5708755818195641 + sz * 0.5 &&
    y > 0.5331021519377828 - sz * 0.5 &&
    y < 0.5331021519377828 + sz * 0.5) {*/
  dx = x - 0.5708755818195641;
  dy = y - 0.5331021519377828;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.45341960922814906 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.4823864179197699 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.5848807657603174 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.608939511468634 - sz * 0.5 &&
    x < 0.608939511468634 + sz * 0.5 &&
    y > 0.1940358446445316 - sz * 0.5 &&
    y < 0.1940358446445316 + sz * 0.5) {*/
  dx = x - 0.608939511468634;
  dy = y - 0.1940358446445316;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.6313969544135034 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.6107799462042749 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.937215170590207 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.6004693252034485 - sz * 0.5 &&
    x < 0.6004693252034485 + sz * 0.5 &&
    y > 0.5319170081056654 - sz * 0.5 &&
    y < 0.5319170081056654 + sz * 0.5) {*/
  dx = x - 0.6004693252034485;
  dy = y - 0.5319170081056654;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.7504120820667595 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.4761906866915524 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.46520350663922727 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.7447844177950174 - sz * 0.5 &&
    x < 0.7447844177950174 + sz * 0.5 &&
    y > 0.6708197414409369 - sz * 0.5 &&
    y < 0.6708197414409369 + sz * 0.5) {*/
  dx = x - 0.7447844177950174;
  dy = y - 0.6708197414409369;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.20959984208457172 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.20178721123374999 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.2250679403077811 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.30983635946176946 - sz * 0.5 &&
    x < 0.30983635946176946 + sz * 0.5 &&
    y > 0.6878315475769341 - sz * 0.5 &&
    y < 0.6878315475769341 + sz * 0.5) {*/
  dx = x - 0.30983635946176946;
  dy = y - 0.6878315475769341;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.8811612166464329 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.30081311659887433 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.9791236699093133 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.2368730497546494 - sz * 0.5 &&
    x < 0.2368730497546494 + sz * 0.5 &&
    y > 0.2607577193994075 - sz * 0.5 &&
    y < 0.2607577193994075 + sz * 0.5) {*/
  dx = x - 0.2368730497546494;
  dy = y - 0.2607577193994075;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.23514022678136826 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.8411538666114211 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.23042470985092223 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.5225318593438715 - sz * 0.5 &&
    x < 0.5225318593438715 + sz * 0.5 &&
    y > 0.28268080949783325 - sz * 0.5 &&
    y < 0.28268080949783325 + sz * 0.5) {*/
  dx = x - 0.5225318593438715;
  dy = y - 0.28268080949783325;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.7416312203276902 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.8870949286501855 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.9102643553633243 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.5983408782631159 - sz * 0.5 &&
    x < 0.5983408782631159 + sz * 0.5 &&
    y > 0.4390048624482006 - sz * 0.5 &&
    y < 0.4390048624482006 + sz * 0.5) {*/
  dx = x - 0.5983408782631159;
  dy = y - 0.4390048624482006;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.2562931461725384 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.36808784818276763 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.13925421400927007 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.3183038916904479 - sz * 0.5 &&
    x < 0.3183038916904479 + sz * 0.5 &&
    y > 0.3716937517747283 - sz * 0.5 &&
    y < 0.3716937517747283 + sz * 0.5) {*/
  dx = x - 0.3183038916904479;
  dy = y - 0.3716937517747283;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.895898217568174 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.6814078073948622 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.40775676257908344 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.2995134002994746 - sz * 0.5 &&
    x < 0.2995134002994746 + sz * 0.5 &&
    y > 0.885400477796793 - sz * 0.5 &&
    y < 0.885400477796793 + sz * 0.5) {*/
  dx = x - 0.2995134002994746;
  dy = y - 0.885400477796793;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.9487796458415687 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.15821423032321036 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.11024638451635838 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.7361155175603926 - sz * 0.5 &&
    x < 0.7361155175603926 + sz * 0.5 &&
    y > 0.2152669217903167 - sz * 0.5 &&
    y < 0.2152669217903167 + sz * 0.5) {*/
  dx = x - 0.7361155175603926;
  dy = y - 0.2152669217903167;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.5993523206561804 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.08589397952891886 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.6665904640685767 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.6216857784893364 - sz * 0.5 &&
    x < 0.6216857784893364 + sz * 0.5 &&
    y > 0.06457694619894028 - sz * 0.5 &&
    y < 0.06457694619894028 + sz * 0.5) {*/
  dx = x - 0.6216857784893364;
  dy = y - 0.06457694619894028;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.4536830969154835 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.12531624222174287 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.8279739513527602 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.6716085863299668 - sz * 0.5 &&
    x < 0.6716085863299668 + sz * 0.5 &&
    y > 0.23462069244123995 - sz * 0.5 &&
    y < 0.23462069244123995 + sz * 0.5) {*/
  dx = x - 0.6716085863299668;
  dy = y - 0.23462069244123995;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.30741477105766535 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.2406092993915081 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.5802211610134691 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.5100033446215093 - sz * 0.5 &&
    x < 0.5100033446215093 + sz * 0.5 &&
    y > 0.25330506614409387 - sz * 0.5 &&
    y < 0.25330506614409387 + sz * 0.5) {*/
  dx = x - 0.5100033446215093;
  dy = y - 0.25330506614409387;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.42655825172550976 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.38242345745675266 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.0023208113852888346 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.29833343089558184 - sz * 0.5 &&
    x < 0.29833343089558184 + sz * 0.5 &&
    y > 0.4339465706143528 - sz * 0.5 &&
    y < 0.4339465706143528 + sz * 0.5) {*/
  dx = x - 0.29833343089558184;
  dy = y - 0.4339465706143528;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.900203360710293 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.3479315547738224 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.9924914869479835 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.4752309962641448 - sz * 0.5 &&
    x < 0.4752309962641448 + sz * 0.5 &&
    y > 0.7237753362860531 - sz * 0.5 &&
    y < 0.7237753362860531 + sz * 0.5) {*/
  dx = x - 0.4752309962641448;
  dy = y - 0.7237753362860531;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.2824932208750397 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.12383088190108538 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.7343366907443851 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.0952999487053603 - sz * 0.5 &&
    x < 0.0952999487053603 + sz * 0.5 &&
    y > 0.2680154787376523 - sz * 0.5 &&
    y < 0.2680154787376523 + sz * 0.5) {*/
  dx = x - 0.0952999487053603;
  dy = y - 0.2680154787376523;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.46004191087558866 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.45574682112783194 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.7602753948885947 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.11595533229410648 - sz * 0.5 &&
    x < 0.11595533229410648 + sz * 0.5 &&
    y > 0.9369171077851206 - sz * 0.5 &&
    y < 0.9369171077851206 + sz * 0.5) {*/
  dx = x - 0.11595533229410648;
  dy = y - 0.9369171077851206;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.013483430724591017 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.41493543260730803 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.0607883136253804 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.021715700859203935 - sz * 0.5 &&
    x < 0.021715700859203935 + sz * 0.5 &&
    y > 0.043036255752667785 - sz * 0.5 &&
    y < 0.043036255752667785 + sz * 0.5) {*/
  dx = x - 0.021715700859203935;
  dy = y - 0.043036255752667785;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.14565992797724903 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.5942483157850802 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.5567203075625002 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.38407715247012675 - sz * 0.5 &&
    x < 0.38407715247012675 + sz * 0.5 &&
    y > 0.15813865675590932 - sz * 0.5 &&
    y < 0.15813865675590932 + sz * 0.5) {*/
  dx = x - 0.38407715247012675;
  dy = y - 0.15813865675590932;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.22776130051352084 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.8982055108062923 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.7507600537501276 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.889274203684181 - sz * 0.5 &&
    x < 0.889274203684181 + sz * 0.5 &&
    y > 0.7283989584539086 - sz * 0.5 &&
    y < 0.7283989584539086 + sz * 0.5) {*/
  dx = x - 0.889274203684181;
  dy = y - 0.7283989584539086;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.4063268101308495 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.03161038993857801 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.5575088600162417 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.7709796440321952 - sz * 0.5 &&
    x < 0.7709796440321952 + sz * 0.5 &&
    y > 0.9628777063917369 - sz * 0.5 &&
    y < 0.9628777063917369 + sz * 0.5) {*/
  dx = x - 0.7709796440321952;
  dy = y - 0.9628777063917369;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.22982031456194818 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.6308513465337455 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.4786211128812283 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.7449551057070494 - sz * 0.5 &&
    x < 0.7449551057070494 + sz * 0.5 &&
    y > 0.7192635755054653 - sz * 0.5 &&
    y < 0.7192635755054653 + sz * 0.5) {*/
  dx = x - 0.7449551057070494;
  dy = y - 0.7192635755054653;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.7910251258872449 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.3852274199016392 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.4075350381899625 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.8199465384241194 - sz * 0.5 &&
    x < 0.8199465384241194 + sz * 0.5 &&
    y > 0.9543805681169033 - sz * 0.5 &&
    y < 0.9543805681169033 + sz * 0.5) {*/
  dx = x - 0.8199465384241194;
  dy = y - 0.9543805681169033;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.4893056685104966 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.13239410449750721 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.2121779292356223 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.16072493651881814 - sz * 0.5 &&
    x < 0.16072493651881814 + sz * 0.5 &&
    y > 0.12834707112051547 - sz * 0.5 &&
    y < 0.12834707112051547 + sz * 0.5) {*/
  dx = x - 0.16072493651881814;
  dy = y - 0.12834707112051547;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.3850220066960901 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.48834046139381826 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.30711120925843716 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.016380709828808904 - sz * 0.5 &&
    x < 0.016380709828808904 + sz * 0.5 &&
    y > 0.27786693698726594 - sz * 0.5 &&
    y < 0.27786693698726594 + sz * 0.5) {*/
  dx = x - 0.016380709828808904;
  dy = y - 0.27786693698726594;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.6606528875418007 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.017161416122689843 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.5822277977131307 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.45741964620538056 - sz * 0.5 &&
    x < 0.45741964620538056 + sz * 0.5 &&
    y > 0.43221755931153893 - sz * 0.5 &&
    y < 0.43221755931153893 + sz * 0.5) {*/
  dx = x - 0.45741964620538056;
  dy = y - 0.43221755931153893;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.6862498023547232 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.08113268692977726 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.6977704809978604 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.13198295515030622 - sz * 0.5 &&
    x < 0.13198295515030622 + sz * 0.5 &&
    y > 0.6049005854874849 - sz * 0.5 &&
    y < 0.6049005854874849 + sz * 0.5) {*/
  dx = x - 0.13198295515030622;
  dy = y - 0.6049005854874849;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.8011604908388108 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.43298279982991517 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.8501918793190271 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.35523111070506275 - sz * 0.5 &&
    x < 0.35523111070506275 + sz * 0.5 &&
    y > 0.22045784164220095 - sz * 0.5 &&
    y < 0.22045784164220095 + sz * 0.5) {*/
  dx = x - 0.35523111070506275;
  dy = y - 0.22045784164220095;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.9579061889089644 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.8316135313361883 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.16704181977547705 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.11473438679240644 - sz * 0.5 &&
    x < 0.11473438679240644 + sz * 0.5 &&
    y > 0.5797951770946383 - sz * 0.5 &&
    y < 0.5797951770946383 + sz * 0.5) {*/
  dx = x - 0.11473438679240644;
  dy = y - 0.5797951770946383;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.03202474117279053 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.11594175128266215 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.5125727166887373 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.44584201625548303 - sz * 0.5 &&
    x < 0.44584201625548303 + sz * 0.5 &&
    y > 0.8757378128357232 - sz * 0.5 &&
    y < 0.8757378128357232 + sz * 0.5) {*/
  dx = x - 0.44584201625548303;
  dy = y - 0.8757378128357232;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.6253609342966229 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.29855038574896753 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.36304634041152894 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.5720978085882962 - sz * 0.5 &&
    x < 0.5720978085882962 + sz * 0.5 &&
    y > 0.020246355328708887 - sz * 0.5 &&
    y < 0.020246355328708887 + sz * 0.5) {*/
  dx = x - 0.5720978085882962;
  dy = y - 0.020246355328708887;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.24176304647698998 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.7463517382275313 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.8996746819466352 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.09606777061708272 - sz * 0.5 &&
    x < 0.09606777061708272 + sz * 0.5 &&
    y > 0.21193885151296854 - sz * 0.5 &&
    y < 0.21193885151296854 + sz * 0.5) {*/
  dx = x - 0.09606777061708272;
  dy = y - 0.21193885151296854;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.9696842993143946 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.18406639038585126 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.44368649600073695 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.8985727725084871 - sz * 0.5 &&
    x < 0.8985727725084871 + sz * 0.5 &&
    y > 0.6119177199434489 - sz * 0.5 &&
    y < 0.6119177199434489 + sz * 0.5) {*/
  dx = x - 0.8985727725084871;
  dy = y - 0.6119177199434489;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.6381060553248972 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.9115034397691488 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.9995637224055827 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.884082552511245 - sz * 0.5 &&
    x < 0.884082552511245 + sz * 0.5 &&
    y > 0.8452151441015303 - sz * 0.5 &&
    y < 0.8452151441015303 + sz * 0.5) {*/
  dx = x - 0.884082552511245;
  dy = y - 0.8452151441015303;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.18750642333179712 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.2523780835326761 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.5199880006257445 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.8121747991535813 - sz * 0.5 &&
    x < 0.8121747991535813 + sz * 0.5 &&
    y > 0.8344533231575042 - sz * 0.5 &&
    y < 0.8344533231575042 + sz * 0.5) {*/
  dx = x - 0.8121747991535813;
  dy = y - 0.8344533231575042;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.41412602039054036 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.3868007001001388 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.021313872653990984 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.9984800894744694 - sz * 0.5 &&
    x < 0.9984800894744694 + sz * 0.5 &&
    y > 0.24356630956754088 - sz * 0.5 &&
    y < 0.24356630956754088 + sz * 0.5) {*/
  dx = x - 0.9984800894744694;
  dy = y - 0.24356630956754088;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.7049964836332947 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.3017331953160465 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.6594367015641183 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.6014560386538506 - sz * 0.5 &&
    x < 0.6014560386538506 + sz * 0.5 &&
    y > 0.6460055706556886 - sz * 0.5 &&
    y < 0.6460055706556886 + sz * 0.5) {*/
  dx = x - 0.6014560386538506;
  dy = y - 0.6460055706556886;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.7806261996738613 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.5952587879728526 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.1361411577090621 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.41941405180841684 - sz * 0.5 &&
    x < 0.41941405180841684 + sz * 0.5 &&
    y > 0.768845884827897 - sz * 0.5 &&
    y < 0.768845884827897 + sz * 0.5) {*/
  dx = x - 0.41941405180841684;
  dy = y - 0.768845884827897;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.27319718012586236 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.2545163102913648 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.579215231584385 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.9301687071565539 - sz * 0.5 &&
    x < 0.9301687071565539 + sz * 0.5 &&
    y > 0.9966900390572846 - sz * 0.5 &&
    y < 0.9966900390572846 + sz * 0.5) {*/
  dx = x - 0.9301687071565539;
  dy = y - 0.9966900390572846;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.42937673442065716 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.934867620235309 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.8206886707339436 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.3341812561266124 - sz * 0.5 &&
    x < 0.3341812561266124 + sz * 0.5 &&
    y > 0.4631605832837522 - sz * 0.5 &&
    y < 0.4631605832837522 + sz * 0.5) {*/
  dx = x - 0.3341812561266124;
  dy = y - 0.4631605832837522;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.7281215353868902 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.940531084081158 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.3476375322788954 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.004189175320789218 - sz * 0.5 &&
    x < 0.004189175320789218 + sz * 0.5 &&
    y > 0.5139411322306842 - sz * 0.5 &&
    y < 0.5139411322306842 + sz * 0.5) {*/
  dx = x - 0.004189175320789218;
  dy = y - 0.5139411322306842;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.11368206772021949 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.40304186241701245 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.6061124142725021 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.3503262286540121 - sz * 0.5 &&
    x < 0.3503262286540121 + sz * 0.5 &&
    y > 0.3568014435004443 - sz * 0.5 &&
    y < 0.3568014435004443 + sz * 0.5) {*/
  dx = x - 0.3503262286540121;
  dy = y - 0.3568014435004443;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.6356070565525442 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.6737987245433033 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.48090581502765417 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.6164839556440711 - sz * 0.5 &&
    x < 0.6164839556440711 + sz * 0.5 &&
    y > 0.8256508691702038 - sz * 0.5 &&
    y < 0.8256508691702038 + sz * 0.5) {*/
  dx = x - 0.6164839556440711;
  dy = y - 0.8256508691702038;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.2743815155699849 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.5774929975159466 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.444025085773319 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.2213934187311679 - sz * 0.5 &&
    x < 0.2213934187311679 + sz * 0.5 &&
    y > 0.673296796856448 - sz * 0.5 &&
    y < 0.673296796856448 + sz * 0.5) {*/
  dx = x - 0.2213934187311679;
  dy = y - 0.673296796856448;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.5622776083182544 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.6283073518425226 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.007729400880634785 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.9046979681588709 - sz * 0.5 &&
    x < 0.9046979681588709 + sz * 0.5 &&
    y > 0.6163150847423822 - sz * 0.5 &&
    y < 0.6163150847423822 + sz * 0.5) {*/
  dx = x - 0.9046979681588709;
  dy = y - 0.6163150847423822;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.6283413663040847 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.5555886330548674 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.4304819346871227 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.5830143978819251 - sz * 0.5 &&
    x < 0.5830143978819251 + sz * 0.5 &&
    y > 0.48106710729189217 - sz * 0.5 &&
    y < 0.48106710729189217 + sz * 0.5) {*/
  dx = x - 0.5830143978819251;
  dy = y - 0.48106710729189217;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.5070952263195068 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.9180825676303357 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.13612302392721176 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.475937855662778 - sz * 0.5 &&
    x < 0.475937855662778 + sz * 0.5 &&
    y > 0.9851161597762257 - sz * 0.5 &&
    y < 0.9851161597762257 + sz * 0.5) {*/
  dx = x - 0.475937855662778;
  dy = y - 0.9851161597762257;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.038636855548247695 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.10124139417894185 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.7282219335902482 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.15994025929830968 - sz * 0.5 &&
    x < 0.15994025929830968 + sz * 0.5 &&
    y > 0.46576157072559 - sz * 0.5 &&
    y < 0.46576157072559 + sz * 0.5) {*/
  dx = x - 0.15994025929830968;
  dy = y - 0.46576157072559;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.6789227763656527 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.8388952759560198 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.08822967787273228 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.9514035098254681 - sz * 0.5 &&
    x < 0.9514035098254681 + sz * 0.5 &&
    y > 0.08417175547219813 - sz * 0.5 &&
    y < 0.08417175547219813 + sz * 0.5) {*/
  dx = x - 0.9514035098254681;
  dy = y - 0.08417175547219813;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.2298987430986017 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.029013746418058872 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.10825082776136696 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.22593009122647345 - sz * 0.5 &&
    x < 0.22593009122647345 + sz * 0.5 &&
    y > 0.28818952245637774 - sz * 0.5 &&
    y < 0.28818952245637774 + sz * 0.5) {*/
  dx = x - 0.22593009122647345;
  dy = y - 0.28818952245637774;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.7304309455212206 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.25748380506411195 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.07734798919409513 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.5138854596298188 - sz * 0.5 &&
    x < 0.5138854596298188 + sz * 0.5 &&
    y > 0.03543338389135897 - sz * 0.5 &&
    y < 0.03543338389135897 + sz * 0.5) {*/
  dx = x - 0.5138854596298188;
  dy = y - 0.03543338389135897;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.005874135065823793 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.07383964024484158 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.2302594801876694 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.819232081528753 - sz * 0.5 &&
    x < 0.819232081528753 + sz * 0.5 &&
    y > 0.005813443101942539 - sz * 0.5 &&
    y < 0.005813443101942539 + sz * 0.5) {*/
  dx = x - 0.819232081528753;
  dy = y - 0.005813443101942539;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.180000776425004 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.09888628288172185 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.8287572881672531 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.2624399489723146 - sz * 0.5 &&
    x < 0.2624399489723146 + sz * 0.5 &&
    y > 0.5391719122417271 - sz * 0.5 &&
    y < 0.5391719122417271 + sz * 0.5) {*/
  dx = x - 0.2624399489723146;
  dy = y - 0.5391719122417271;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.3018714727368206 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.19186712591908872 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.015298567712306976 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.9287382725160569 - sz * 0.5 &&
    x < 0.9287382725160569 + sz * 0.5 &&
    y > 0.8469950822182 - sz * 0.5 &&
    y < 0.8469950822182 + sz * 0.5) {*/
  dx = x - 0.9287382725160569;
  dy = y - 0.8469950822182;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.951861625071615 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.5202043482568115 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.9281895423773676 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.8285421803593636 - sz * 0.5 &&
    x < 0.8285421803593636 + sz * 0.5 &&
    y > 0.022828238550573587 - sz * 0.5 &&
    y < 0.022828238550573587 + sz * 0.5) {*/
  dx = x - 0.8285421803593636;
  dy = y - 0.022828238550573587;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.4260846790857613 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.8752040024846792 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.6185119284782559 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.17265599663369358 - sz * 0.5 &&
    x < 0.17265599663369358 + sz * 0.5 &&
    y > 0.14499222137965262 - sz * 0.5 &&
    y < 0.14499222137965262 + sz * 0.5) {*/
  dx = x - 0.17265599663369358;
  dy = y - 0.14499222137965262;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.4962028011213988 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.09291688376106322 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.8968008297961205 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.7068592279683799 - sz * 0.5 &&
    x < 0.7068592279683799 + sz * 0.5 &&
    y > 0.24917917838320136 - sz * 0.5 &&
    y < 0.24917917838320136 + sz * 0.5) {*/
  dx = x - 0.7068592279683799;
  dy = y - 0.24917917838320136;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.0880266793537885 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.3681948676239699 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.04410069528967142 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.5795460953377187 - sz * 0.5 &&
    x < 0.5795460953377187 + sz * 0.5 &&
    y > 0.18010510760359466 - sz * 0.5 &&
    y < 0.18010510760359466 + sz * 0.5) {*/
  dx = x - 0.5795460953377187;
  dy = y - 0.18010510760359466;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.34321232116781175 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.3276826946530491 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.8379343536216766 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.887785681290552 - sz * 0.5 &&
    x < 0.887785681290552 + sz * 0.5 &&
    y > 0.2713875810150057 - sz * 0.5 &&
    y < 0.2713875810150057 + sz * 0.5) {*/
  dx = x - 0.887785681290552;
  dy = y - 0.2713875810150057;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.75672598159872 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.6875766492448747 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.2926066250074655 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.3590753101743758 - sz * 0.5 &&
    x < 0.3590753101743758 + sz * 0.5 &&
    y > 0.345132997026667 - sz * 0.5 &&
    y < 0.345132997026667 + sz * 0.5) {*/
  dx = x - 0.3590753101743758;
  dy = y - 0.345132997026667;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.02253442187793553 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.5848440795671195 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.7668917172122747 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.24108835333026946 - sz * 0.5 &&
    x < 0.24108835333026946 + sz * 0.5 &&
    y > 0.37582452478818595 - sz * 0.5 &&
    y < 0.37582452478818595 + sz * 0.5) {*/
  dx = x - 0.24108835333026946;
  dy = y - 0.37582452478818595;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.7205507338512689 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.8722255944740027 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.3299596179276705 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.26820312696509063 - sz * 0.5 &&
    x < 0.26820312696509063 + sz * 0.5 &&
    y > 0.7000626409426332 - sz * 0.5 &&
    y < 0.7000626409426332 + sz * 0.5) {*/
  dx = x - 0.26820312696509063;
  dy = y - 0.7000626409426332;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.27313928748480976 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.096252545947209 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.8970266617834568 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.23797114961780608 - sz * 0.5 &&
    x < 0.23797114961780608 + sz * 0.5 &&
    y > 0.44803133024834096 - sz * 0.5 &&
    y < 0.44803133024834096 + sz * 0.5) {*/
  dx = x - 0.23797114961780608;
  dy = y - 0.44803133024834096;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.8997960756532848 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.01566790323704481 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.3241729624569416 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.47722361772321165 - sz * 0.5 &&
    x < 0.47722361772321165 + sz * 0.5 &&
    y > 0.3374396588187665 - sz * 0.5 &&
    y < 0.3374396588187665 + sz * 0.5) {*/
  dx = x - 0.47722361772321165;
  dy = y - 0.3374396588187665;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.9459208031184971 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.6261031932663172 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.9640588017646223 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.34514296939596534 - sz * 0.5 &&
    x < 0.34514296939596534 + sz * 0.5 &&
    y > 0.8024951820261776 - sz * 0.5 &&
    y < 0.8024951820261776 + sz * 0.5) {*/
  dx = x - 0.34514296939596534;
  dy = y - 0.8024951820261776;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.7416900920215994 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.8586295554414392 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.9038065180648118 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
/*if (x > 0.7563470776658505 - sz * 0.5 &&
    x < 0.7563470776658505 + sz * 0.5 &&
    y > 0.49688091059215367 - sz * 0.5 &&
    y < 0.49688091059215367 + sz * 0.5) {*/
  dx = x - 0.7563470776658505;
  dy = y - 0.49688091059215367;
  //dx = fract(dx);
  //dy = fract(dy);
  dist = pow(dx * dx + dy * dy, 0.5);
  //dist *= nsin(time);
  if (dist < 0.1 + 0.3*nsin(time)) {
    r += 0.8087774906307459 * dist;
    if (r > 1.0) {
      //rn += 1.0;
      r = fract(r);
    }
    g += 0.9443729564081877 * dist;
    if (g > 1.0) {
      g = fract(g);
      //gn += 1.0;
    }
    b += 0.633734870236367 * dist;
    if (b > 1.0) {
      b = fract(b);
      //bn += 1.0;
    }
  }
//}
  rgb = vec3(r / rn, g / gn, b / bn);
  gl_FragColor = vec4(rgb, 1.0);
}